// ⚠️ MODÈLE TENANT - Créé dynamiquement par tenantService.ts
// Le schéma "tenant" est un PLACEHOLDER documentaire
// Vrais schémas: sirhame_tech, acme_corp, etc.
// Source de création: src/services/tenantService.ts (applyTenantMigrations)

// Statut d'une demande de congé
enum StatutConge {
    EN_ATTENTE // En attente d'approbation
    APPROUVE // Approuvé
    REFUSE // Refusé
    ANNULE // Annulé
}

// Demandes de congés des employés
model Conge {
    id          String      @id @default(uuid())
    employeId   String
    typeCongeId String
    dateDebut   DateTime    @db.Date
    dateFin     DateTime    @db.Date
    nombreJours Int // Nombre de jours (calculé)
    raison      String? // Raison / commentaire
    statut      StatutConge @default(EN_ATTENTE)
    documentUrl String? // URL du justificatif si nécessaire

    // Relations
    employe   Employee        @relation(fields: [employeId], references: [id], onDelete: Cascade)
    typeConge TypeConge       @relation(fields: [typeCongeId], references: [id])
    bilans    BilanPresence[]

    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@map("conges")
}
