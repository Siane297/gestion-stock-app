// Table pour stocker le bilan journalier de présence

// Statut d'un pointage journalier
enum StatutPointage {
  A_L_HEURE
  EN_RETARD
  ABSENT
  INCOMPLET
  EN_CONGE
}

model BilanPresence {
  id         String @id @default(uuid())
  employeeId String

  // Statut de la journée
  statut StatutPointage

  // Heures de pointage
  heureEntree DateTime?
  heureSortie DateTime?

  // Durée de travail
  dureeTravailMinutes Int @default(0)

  // Retard effectif (en minutes, après tolérance)
  retardMinutes Int @default(0)

  // Notes
  notes String?

  // Référence au congé si le statut est EN_CONGE
  congeId String?

  // Relations
  employee Employee @relation(fields: [employeeId], references: [id], onDelete: Cascade)
  conge    Conge?   @relation(fields: [congeId], references: [id])

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("bilans_presence")
}
