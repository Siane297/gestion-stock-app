<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liste des Congés - {{company.name}}</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- En-tête du document -->
    {{#if company.pdfHeader}}
        <div class="custom-header">
            <img src="{{company.pdfHeader}}" alt="En-tête" class="header-image">
        </div>
        <div class="table-title-section">
            <h2 class="table-title">Liste des Congés</h2>
        </div>
    {{else}}
        <!-- En-tête par défaut -->
        <header class="document-header">
            <div class="header-content">
                <div class="header-left">
                    <!-- Logo Placeholder - Sera remplacé par le vrai logo -->
                    <div class="logo-placeholder">
                        {{#if company.logo}}
                            <img src="{{company.logo}}" alt="Logo" class="logo-img">
                        {{/if}}
                    </div>

                </div>
                <div class="header-right">
                    <p class="company-name">{{company.name}}</p>
                    {{#if company.phone}}
                    <p>{{company.phone}}</p>
                    {{/if}}
                    {{#if company.email}}
                    <p>{{company.email}}</p>
                    {{/if}}
                    {{#if company.address}}
                    <p>{{company.address}}</p>
                    {{/if}}
                </div>
            </div>
        </header>
        <div class="table-title-section">
            <h2 class="table-title">Liste des Congés</h2>
        </div>
    {{/if}}



    <!-- Liste des congés -->
    <section class="table-container">   
        <div class="table-scroll">
            <table class="employees-table">
                <thead class="table-header">
                    <tr>
                        <th class="center">
                            N°
                        </th>
                        <th>
                            Matricule
                        </th>
                        <th>
                            Employé
                        </th>
                        <th>
                            Type de congé
                        </th>
                        <th class="center">
                            Date début
                        </th>
                        <th class="center">
                            Date fin
                        </th>
                        <th class="center">
                            Durée
                        </th>
                        <th class="center">
                            Statut
                        </th>
                    </tr>
                </thead>
                <tbody class="table-body">
                    {{#each conges}}
                    <tr class="table-row">
                        <td class="table-cell center nowrap">
                            <div class="cell-content medium primary">{{inc @index}}</div>
                        </td>
                        <td class="table-cell nowrap">
                            <div class="cell-content medium primary">{{matricule}}</div>
                        </td>
                        <td class="table-cell nowrap">
                            <div class="cell-content medium primary">{{employeeName}}</div>
                        </td>
                        <td class="table-cell nowrap">
                            <div class="cell-content primary">{{typeConge}}</div>
                        </td>
                        <td class="table-cell center nowrap">
                            <div class="cell-content primary">{{dateDebut}}</div>
                        </td>
                        <td class="table-cell center nowrap">
                            <div class="cell-content primary">{{dateFin}}</div>
                        </td>
                        <td class="table-cell center nowrap">
                            <div class="cell-content medium primary">{{nombreJours}} jour(s)</div>
                        </td>
                        <td class="table-cell center nowrap">
                            {{#if (eq statut "APPROUVE")}}
                                <span class="badge badge-green">
                                    Approuvé
                                </span>
                            {{else if (eq statut "EN_ATTENTE")}}
                                <span class="badge badge-yellow">
                                    En attente
                                </span>
                            {{else if (eq statut "REFUSE")}}
                                <span class="badge badge-red">
                                    Refusé
                                </span>
                            {{else if (eq statut "ANNULE")}}
                                <span class="badge badge-gray">
                                    Annulé
                                </span>
                            {{else}}
                                <span class="badge badge-gray">
                                    {{statut}}
                                </span>
                            {{/if}}
                        </td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    </section>

    <!-- Pied de page -->
    <footer class="document-footer">
        <div class="footer-content">
            <div class="footer-left">
                <p class="company-name">{{company.name}}</p>
                {{#if company.address}}
                    <p>{{company.address}}</p>
                {{/if}}
            </div>
            <div class="footer-right">
                {{#if company.phone}}
                    <p>Tél: {{company.phone}}</p>
                {{/if}}
                {{#if company.email}}
                    <p>Email: {{company.email}}</p>
                {{/if}}
            </div>
        </div>
        <div class="footer-bottom">
            <p>
                Pointage App - Système de gestion des congés - Confidentiel
            </p>
        </div>
    </footer>
</body>
</html>
