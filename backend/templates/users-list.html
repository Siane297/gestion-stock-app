<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liste des Utilisateurs - {{company.name}}</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- En-tête du document -->
    {{#if company.pdfHeader}}
        <div class="custom-header">
            <img src="{{company.pdfHeader}}" alt="En-tête" class="header-image">
        </div>
        <div class="table-title-section">
            <h2 class="table-title">Liste des Utilisateurs</h2>
        </div>
    {{else}}
        <!-- En-tête par défaut -->
        <header class="document-header">
            <div class="header-content">
                <div class="header-left">
                    <!-- Logo Placeholder -->
                    <div class="logo-placeholder">
                        {{#if company.logo}}
                            <img src="{{company.logo}}" alt="Logo" class="logo-img">
                        {{else}}
                            PA
                        {{/if}}
                    </div>

                </div>
                <div class="header-right">
                    <p class="company-name">{{company.name}}</p>
                    {{#if company.phone}}
                    <p>{{company.phone}}</p>
                    {{/if}}
                    {{#if company.email}}
                    <p>{{company.email}}</p>
                    {{/if}}
                    {{#if company.address}}
                    <p>{{company.address}}</p>
                    {{/if}}
                </div>
            </div>
        </header>
        <div class="table-title-section">
            <h2 class="table-title">Liste des Utilisateurs</h2>
        </div>
    {{/if}}



    <!-- Contenu principal -->
    <section class="document-content">
        <div class="table-container">
            <table class="employees-table">
                <thead class="table-header">
                    <tr>
                        <th class="center">
                            N°
                        </th>
                        <th>
                            Email
                        </th>
                        <th>
                            Employé
                        </th>
                        <th>
                            Matricule
                        </th>
                        <th>
                            Rôle
                        </th>
                        <th class="center">
                            Statut
                        </th>
                        <th>
                            Création
                        </th>
                    </tr>
                </thead>
                <tbody class="table-body">
                    {{#each users}}
                    <tr class="table-row">
                        <td class="table-cell center nowrap">
                            <div class="cell-content medium primary">{{inc @index}}</div>
                        </td>
                        <td class="table-cell nowrap">
                            <div class="cell-content medium primary">{{email}}</div>
                        </td>
                        <td class="table-cell nowrap">
                            <div class="cell-content medium primary">{{employeeName}}</div>
                        </td>
                        <td class="table-cell nowrap">
                            <div class="cell-content secondary">{{employeeMatricule}}</div>
                        </td>
                        <td class="table-cell nowrap">
                            <div class="cell-content primary">{{role}}</div>
                        </td>
                        <td class="table-cell center nowrap">
                            {{#if isBlocked}}
                            <span class="badge badge-red">
                                Bloqué
                            </span>
                            {{else}}
                            <span class="badge badge-green">
                                Actif
                            </span>
                            {{/if}}
                        </td>
                        <td class="table-cell nowrap">
                            <div class="cell-content primary">{{formatDate createdAt}}</div>
                        </td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    </section>

    <!-- Pied de page -->
    <footer class="document-footer">
        <div class="footer-content">
            <div class="footer-left">
                <p class="company-name">{{company.name}}</p>
                {{#if company.address}}
                <p>{{company.address}}</p>
                {{/if}}
            </div>
            <div class="footer-right">
                {{#if company.phone}}
                <p>Tél: {{company.phone}}</p>
                {{/if}}
                {{#if company.email}}
                <p>Email: {{company.email}}</p>
                {{/if}}
            </div>
        </div>
        <div class="footer-bottom">
            <p>
                Pointage App - Système de gestion des utilisateurs - Confidentiel
            </p>
        </div>
    </footer>
</body>
</html>